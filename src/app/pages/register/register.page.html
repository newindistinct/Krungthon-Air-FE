<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>register</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <mat-form-field class="w-80 p-2">
    <mat-label>Choose a date</mat-label>
    <input matInput [matDatepicker]="picker" [(ngModel)]="date" (dateChange)="searchJobs()">
    <mat-hint>MM/DD/YYYY</mat-hint>
    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-datepicker #picker></mat-datepicker>
  </mat-form-field>

  <ngx-datatable class="flex w-full p-2 material expandable" [columnMode]="'force'" [rowClass]="getRowClass"
    [rows]="rows" [limit]="100" rowHeight="auto" [headerHeight]="50" [footerHeight]="50" [scrollbarH]="true"
    [sorts]="[{prop: 'group_id', dir: 'asc'}]" (activate)="onActivate($event)">
    <ngx-datatable-column name="สถานที่" prop="site_name">
      <ng-template let-row="row" ngx-datatable-cell-template>
        {{row.site_name}}
      </ng-template>
    </ngx-datatable-column>
    <ngx-datatable-column [name]="time" prop="time" *ngFor="let time of column" [width]="100">
      <ng-template let-row="row" ngx-datatable-cell-template>
        <div class="w-full h-full text-white text-center rounded-md" [ngClass]="{'bg-red-500':row.time[time] }">
          {{row.time[time]}}
        </div>
      </ng-template>
    </ngx-datatable-column>
  </ngx-datatable>
  <!-- <ion-button (click)="add()">
    add job
  </ion-button> -->
  <!-- <ion-item>
    <ion-label>Select a Color</ion-label>
    <ion-select interface="popover" placeholder="Select fruit" [(ngModel)]="selectedColor">
      <ion-select-option *ngFor="let color of colors" [value]="color">{{color}}</ion-select-option>
    </ion-select>
  </ion-item>

  <ion-item class="flex" *ngIf="selectedColor">
    <ion-avatar item-start [ngClass]="selectedColor"></ion-avatar>
    <ion-input class="ml-2" type="text" [(ngModel)]="selectedColor" readonly="true"></ion-input>
  </ion-item> -->
</ion-content>