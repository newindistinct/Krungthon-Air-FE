<app-header title="เพิ่มงาน" [modal]="true"></app-header>
<ion-content class="ion-padding">
  <form [formGroup]="form" (ngSubmit)="submit()">
    <mat-form-field class="w-full py-2">
      <mat-label>เลือกวัน</mat-label>
      <input matInput [matDatepicker]="picker" [min]="minDate" [max]="maxDate" formControlName="start_time"
        (dateChange)="searchJobs()">
      <mat-hint>MM/DD/YYYY</mat-hint>
      <mat-datepicker-toggle matTextSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>

    <div class="w-full grid grid-cols-1 sm:grid-cols-2 gap-2">
      <app-select [parentForm]="form" label="เวลา" formControlName="time" placeholder="เลือกเวลา" [multiple]="false"
        [options]="times"></app-select>

      <app-select [parentForm]="form" label="สถานที่" formControlName="site" placeholder="เลือกสถานที่"
        [multiple]="false" [options]="sites"></app-select>
    </div>

    <app-select [parentForm]="form" label="บริการ" formControlName="type" placeholder="เลือกบริการ" [multiple]="false"
      [options]="types"></app-select>

    <app-input [parentForm]="form" label="จำนวน" typeInput="number" formControlName="qty"
      placeholder="จำนวน"></app-input>

    <app-input [parentForm]="form" label="เบอร์โทรศัพท์" typeInput="text" formControlName="phone"
      placeholder="เบอร์โทรศัพท์"></app-input>

    <app-input [parentForm]="form" label="ที่อยู่" typeInput="text" formControlName="address" placeholder="กรุณาระบุตึกและหมายเลขห้อง เช่น A001"></app-input>

    <app-input [parentForm]="form" label="รายละเอียด" typeInput="text" formControlName="remark"
      placeholder="รายละเอียด"></app-input>
  </form>
</ion-content>
<ion-footer class="ion-no-border ion-padding" *ngIf="form">
  <ion-button type="submit" expand="block" (click)="submit()" [disabled]="form.invalid">บันทึก</ion-button>
</ion-footer>